{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect } from 'react';\nimport { useModal } from \"../utils/Context\";\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function BuyerInfo() {\n  var _useModal = useModal(),\n      userData = _useModal.userData,\n      selectedItem = _useModal.selectedItem,\n      setModalVisible = _useModal.setModalVisible;\n\n  var updateItem = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var docRef = doc(db, \"items\", selectedItem.id);\n      var docSnap = yield getDoc(docRef);\n\n      if (docSnap.exists()) {\n        var data = docSnap.data();\n\n        var newdata = _objectSpread(_objectSpread({}, data), {}, {\n          status: \"borrowed\",\n          rentedto: userData.username,\n          available: false,\n          timestamp: new Date().getTime()\n        });\n\n        yield setDoc(docRef, newdata);\n        alert(\"Borrow Request Sent\");\n        setModalVisible(false);\n      } else {\n        alert(\"No such document!\");\n      }\n    });\n\n    return function updateItem() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(_StyledComponent, {\n    className: \"flex-row justify-between w-full rounded-[10px] bg-sky-800\",\n    component: View,\n    children: [_jsxs(_StyledComponent, {\n      className: \"w-65 pl-3 flex-row\",\n      component: View,\n      children: [_jsx(_StyledComponent, {\n        className: \"w-[70px] h-[70px] rounded-[35px] \",\n        source: require(\"../assets/download.jpg\"),\n        component: Image\n      }), _jsx(_StyledComponent, {\n        className: \"pl-3 flex-col justify-center\",\n        component: View,\n        children: _jsxs(_StyledComponent, {\n          className: \"color-white font-medium\",\n          component: Text,\n          children: [userData.username, '\\n', userData.CNIC]\n        })\n      })]\n    }), _jsx(_StyledComponent, {\n      className: \"w-[35%] justify-center items-center\",\n      component: View,\n      children: _jsx(_StyledComponent, {\n        className: \"bg-[#FFC700] w-[80%] h-[40] rounded-[10px] justify-center items-center\",\n        onPress: function onPress() {\n          return updateItem();\n        },\n        component: TouchableOpacity,\n        children: _jsx(_StyledComponent, {\n          className: \"font-medium text-black\",\n          component: Text,\n          children: \"Request\"\n        })\n      })\n    })]\n  });\n}\n\n_NativeWindStyleSheet.create({\n  styles: {\n    \"h-[70px]\": {\n      \"height\": 70\n    },\n    \"h-[40]\": {\n      \"height\": 40\n    },\n    \"w-full\": {\n      \"width\": \"100%\"\n    },\n    \"w-[70px]\": {\n      \"width\": 70\n    },\n    \"w-[35%]\": {\n      \"width\": \"35%\"\n    },\n    \"w-[80%]\": {\n      \"width\": \"80%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"flex-col\": {\n      \"flexDirection\": \"column\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-[10px]\": {\n      \"borderTopLeftRadius\": 10,\n      \"borderTopRightRadius\": 10,\n      \"borderBottomRightRadius\": 10,\n      \"borderBottomLeftRadius\": 10\n    },\n    \"rounded-[35px]\": {\n      \"borderTopLeftRadius\": 35,\n      \"borderTopRightRadius\": 35,\n      \"borderBottomRightRadius\": 35,\n      \"borderBottomLeftRadius\": 35\n    },\n    \"bg-sky-800\": {\n      \"backgroundColor\": \"#075985\"\n    },\n    \"bg-[#FFC700]\": {\n      \"backgroundColor\": \"#FFC700\"\n    },\n    \"pl-3\": {\n      \"paddingLeft\": 12\n    },\n    \"font-medium\": {\n      \"fontWeight\": \"500\"\n    },\n    \"text-black\": {\n      \"color\": \"#000\"\n    },\n    \"color-white\": {\n      \"color\": \"#fff\"\n    }\n  }\n});","map":{"version":3,"names":["React","useEffect","useModal","doc","getDoc","setDoc","db","BuyerInfo","userData","selectedItem","setModalVisible","updateItem","docRef","id","docSnap","exists","data","newdata","status","rentedto","username","available","timestamp","Date","getTime","alert","require","CNIC"],"sources":["D:/MobielApp/SemesterProject/Mobile_App/components/BuyerInfo.js"],"sourcesContent":["import { View, Text,StyleSheet,Image,TouchableOpacity } from 'react-native'\r\nimport React,{useEffect} from 'react'\r\nimport { useModal } from '../utils/Context'\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase/config\";\r\n\r\nexport default function BuyerInfo() {\r\n    const { userData, selectedItem, setModalVisible } = useModal();\r\n     const updateItem = async () => {\r\n       const docRef = doc(db, \"items\", selectedItem.id);\r\n       const docSnap = await getDoc(docRef);\r\n       if (docSnap.exists()) {\r\n         const data = docSnap.data();\r\n         const newdata = {\r\n           ...data,\r\n           status: \"borrowed\",\r\n           rentedto: userData.username,\r\n           available: false,\r\n           timestamp: new Date().getTime(),\r\n         };\r\n         await setDoc(docRef, newdata);\r\n         alert(\"Borrow Request Sent\");\r\n          setModalVisible(false);\r\n\r\n       } else {\r\n         alert(\"No such document!\");\r\n       }\r\n     };\r\n\r\n  return (\r\n    <View className='flex-row justify-between w-full rounded-[10px] bg-sky-800'>\r\n      <View className='w-65 pl-3 flex-row'>\r\n        <Image className='w-[70px] h-[70px] rounded-[35px] ' source={require('../assets/download.jpg')}/>\r\n        <View className='pl-3 flex-col justify-center'>\r\n        <Text className='color-white font-medium'>\r\n            {userData.username}{'\\n'}\r\n          {userData.CNIC}\r\n        </Text>\r\n        </View>\r\n      </View>\r\n      <View className='w-[35%] justify-center items-center'>\r\n        <TouchableOpacity className='bg-[#FFC700] w-[80%] h-[40] rounded-[10px] justify-center items-center'\r\n        onPress={()=>updateItem()}\r\n        >\r\n            <Text className='font-medium text-black'>Request</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;AACA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAASC,QAAT;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,MAAtB,QAAoC,oBAApC;AACA,SAASC,EAAT;;;AAEA,eAAe,SAASC,SAAT,GAAqB;EAChC,gBAAoDL,QAAQ,EAA5D;EAAA,IAAQM,QAAR,aAAQA,QAAR;EAAA,IAAkBC,YAAlB,aAAkBA,YAAlB;EAAA,IAAgCC,eAAhC,aAAgCA,eAAhC;;EACC,IAAMC,UAAU;IAAA,6BAAG,aAAY;MAC7B,IAAMC,MAAM,GAAGT,GAAG,CAACG,EAAD,EAAK,OAAL,EAAcG,YAAY,CAACI,EAA3B,CAAlB;MACA,IAAMC,OAAO,SAASV,MAAM,CAACQ,MAAD,CAA5B;;MACA,IAAIE,OAAO,CAACC,MAAR,EAAJ,EAAsB;QACpB,IAAMC,IAAI,GAAGF,OAAO,CAACE,IAAR,EAAb;;QACA,IAAMC,OAAO,mCACRD,IADQ;UAEXE,MAAM,EAAE,UAFG;UAGXC,QAAQ,EAAEX,QAAQ,CAACY,QAHR;UAIXC,SAAS,EAAE,KAJA;UAKXC,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;QALA,EAAb;;QAOA,MAAMnB,MAAM,CAACO,MAAD,EAASK,OAAT,CAAZ;QACAQ,KAAK,CAAC,qBAAD,CAAL;QACCf,eAAe,CAAC,KAAD,CAAf;MAEF,CAbD,MAaO;QACLe,KAAK,CAAC,mBAAD,CAAL;MACD;IACF,CAnBe;;IAAA,gBAAVd,UAAU;MAAA;IAAA;EAAA,GAAhB;;EAqBH;IACQ,SAAS,EAAC,2DADlB;IAAA;IAAA;MAEU,SAAS,EAAC,oBAFpB;MAAA;MAAA;QAGa,SAAS,EAAC,mCAHvB;QAG2D,MAAM,EAAEe,OAAO,0BAH1E;QAAA;MAAA;QAIY,SAAS,EAAC,8BAJtB;QAAA;QAAA;UAKY,SAAS,EAAC,yBALtB;UAAA;UAAA,WAMWlB,QAAQ,CAACY,QANpB,EAM8B,IAN9B,EAOSZ,QAAQ,CAACmB,IAPlB;QAAA;MAAA;IAAA;MAWU,SAAS,EAAC,qCAXpB;MAAA;MAAA;QAYwB,SAAS,EAAC,wEAZlC;QAaM,OAAO,EAAE;UAAA,OAAIhB,UAAU,EAAd;QAAA,CAbf;QAAA;QAAA;UAegB,SAAS,EAAC,wBAf1B;UAAA;UAAA;QAAA;MAAA;IAAA;EAAA;AAoBD"},"metadata":{},"sourceType":"module"}