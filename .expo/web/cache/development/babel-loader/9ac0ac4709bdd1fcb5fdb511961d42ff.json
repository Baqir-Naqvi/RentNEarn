{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useEffect, useState } from 'react';\nimport { useModal } from \"../utils/Context\";\nimport CategoryComponent from \"../components/CategoryComponent\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { getDoc, doc } from 'firebase/firestore';\nimport { db } from \"../firebase/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar FavouriteScreen = function FavouriteScreen() {\n  var _useModal = useModal(),\n      userID = _useModal.userID;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      FavItems = _useState2[0],\n      setFavItems = _useState2[1];\n\n  useEffect(function () {\n    var GetFavourites = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          yield getDoc(doc(db, \"users\", userID)).then(function (doc) {\n            if (doc.exists()) {\n              setFavItems(doc.data().favorites);\n            } else {\n              console.log(\"No such document!\");\n            }\n          });\n        } catch (error) {\n          alert(error);\n        }\n      });\n\n      return function GetFavourites() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    GetFavourites();\n    console.log(FavItems);\n  }, []);\n  return _jsx(View, {\n    children: FavItems.length > 0 ? _jsx(FlatList, {\n      data: FavItems,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(CategoryComponent, {\n          item: item\n        }, item.id);\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    }) : _jsx(Text, {\n      children: \"No Favourites\"\n    })\n  });\n};\n\nexport default FavouriteScreen;","map":{"version":3,"names":["React","useEffect","useState","useModal","CategoryComponent","getDoc","doc","db","FavouriteScreen","userID","FavItems","setFavItems","GetFavourites","then","exists","data","favorites","console","log","error","alert","length","item","id"],"sources":["D:/MobielApp/SemesterProject/Mobile_App/screens/FavouriteScreen.jsx"],"sourcesContent":["import { View, Text } from 'react-native'\r\nimport React,{useEffect,useState} from 'react'\r\nimport { useModal } from '../utils/Context'\r\nimport CategoryComponent from '../components/CategoryComponent'\r\nimport { FlatList } from 'react-native'\r\nimport {getDoc,doc } from 'firebase/firestore'\r\nimport { db } from '../firebase/config'\r\n\r\nconst FavouriteScreen = () => {\r\n    const {userID } = useModal()\r\n    const [FavItems, setFavItems] = useState([])\r\n    useEffect(() => {\r\n         const  GetFavourites=async () =>{         \r\n        try {\r\n          await getDoc(doc(db, \"users\", userID)).then((doc) => {\r\n            if (doc.exists()) {\r\n                setFavItems(doc.data().favorites)\r\n            } else {\r\n              console.log(\"No such document!\");\r\n            }\r\n          });\r\n        } catch (error) {\r\n            alert(error)\r\n        }\r\n    }\r\n    GetFavourites()\r\n    console.log(FavItems)\r\n    }, [])\r\n  return (\r\n    <View>\r\n      {FavItems.length>0?(\r\n        <FlatList\r\n        data={FavItems}\r\n        renderItem={({ item }) => (\r\n            <CategoryComponent\r\n            key={item.id}\r\n            item={item}\r\n            />\r\n        )}\r\n        keyExtractor={(item) => item.id}\r\n        />\r\n        ):(\r\n            <Text>No Favourites</Text>\r\n        )}\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default FavouriteScreen"],"mappings":";;;;AACA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,SAASC,QAAT;AACA,OAAOC,iBAAP;;AAEA,SAAQC,MAAR,EAAeC,GAAf,QAA0B,oBAA1B;AACA,SAASC,EAAT;;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC1B,gBAAkBL,QAAQ,EAA1B;EAAA,IAAOM,MAAP,aAAOA,MAAP;;EACA,gBAAgCP,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOQ,QAAP;EAAA,IAAiBC,WAAjB;;EACAV,SAAS,CAAC,YAAM;IACX,IAAOW,aAAa;MAAA,6BAAC,aAAW;QACjC,IAAI;UACF,MAAMP,MAAM,CAACC,GAAG,CAACC,EAAD,EAAK,OAAL,EAAcE,MAAd,CAAJ,CAAN,CAAiCI,IAAjC,CAAsC,UAACP,GAAD,EAAS;YACnD,IAAIA,GAAG,CAACQ,MAAJ,EAAJ,EAAkB;cACdH,WAAW,CAACL,GAAG,CAACS,IAAJ,GAAWC,SAAZ,CAAX;YACH,CAFD,MAEO;cACLC,OAAO,CAACC,GAAR,CAAY,mBAAZ;YACD;UACF,CANK,CAAN;QAOD,CARD,CAQE,OAAOC,KAAP,EAAc;UACZC,KAAK,CAACD,KAAD,CAAL;QACH;MACJ,CAZwB;;MAAA,gBAAbP,aAAa;QAAA;MAAA;IAAA,GAApB;;IAaLA,aAAa;IACbK,OAAO,CAACC,GAAR,CAAYR,QAAZ;EACC,CAhBQ,EAgBN,EAhBM,CAAT;EAiBF,OACE,KAAC,IAAD;IAAA,UACGA,QAAQ,CAACW,MAAT,GAAgB,CAAhB,GACC,KAAC,QAAD;MACA,IAAI,EAAEX,QADN;MAEA,UAAU,EAAE;QAAA,IAAGY,IAAH,SAAGA,IAAH;QAAA,OACR,KAAC,iBAAD;UAEA,IAAI,EAAEA;QAFN,GACKA,IAAI,CAACC,EADV,CADQ;MAAA,CAFZ;MAQA,YAAY,EAAE,sBAACD,IAAD;QAAA,OAAUA,IAAI,CAACC,EAAf;MAAA;IARd,EADD,GAYK,KAAC,IAAD;MAAA;IAAA;EAbR,EADF;AAkBD,CAtCD;;AAwCA,eAAef,eAAf"},"metadata":{},"sourceType":"module"}