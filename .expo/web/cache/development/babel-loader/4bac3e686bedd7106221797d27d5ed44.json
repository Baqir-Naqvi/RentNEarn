{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { collection, onSnapshot, where, query } from 'firebase/firestore';\nimport { db } from \"../firebase/config\";\nimport CategoryComponent from \"../components/CategoryComponent\";\nimport { useModal } from \"../utils/Context\";\nimport CustomModal from \"../components/CustomModal\";\nimport BottomTab from \"../components/BottomTab\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SingleCategory(_ref) {\n  var route = _ref.route;\n  var Title = route.params.Title;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      category = _useState2[0],\n      setCategory = _useState2[1];\n\n  var _useModal = useModal(),\n      setModalVisible = _useModal.setModalVisible,\n      selectedItem = _useModal.selectedItem,\n      setSelectedItem = _useModal.setSelectedItem;\n\n  useEffect(function () {\n    try {\n      var filterbycategory = query(collection(db, 'items'), where('category', '==', Title), where('available', '==', true));\n      onSnapshot(filterbycategory, function (snapshot) {\n        setCategory(snapshot.docs.map(function (doc) {\n          return {\n            id: doc.id,\n            data: doc.data()\n          };\n        }));\n      });\n    } catch (error) {\n      alert(error);\n    }\n\n    console.log(category);\n  }, []);\n\n  var handleModal = function handleModal(item, passedid) {\n    setSelectedItem({\n      itemname: item.itemname,\n      price: item.rentperhour,\n      owner: item.owner,\n      description: item.description,\n      id: passedid\n    });\n    setModalVisible(true);\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: styles.safeView,\n    children: [_jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.Title,\n        children: Title\n      }), _jsxs(View, {\n        style: styles.Flatlistsection,\n        children: [_jsx(FlatList, {\n          style: {\n            width: '100%'\n          },\n          data: category,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return handleModal(item.data, item.id);\n              },\n              children: _jsx(CategoryComponent, {\n                itemname: item.data.itemname,\n                price: item.data.rentperhour,\n                owner: item.data.owner,\n                description: item.data.description,\n                id: item.id,\n                timestamp: item.data.timestamp\n              })\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          }\n        }), _jsx(CustomModal, {\n          itemname: selectedItem.itemname,\n          price: selectedItem.price,\n          owner: selectedItem.owner,\n          description: selectedItem.description,\n          id: selectedItem.id\n        })]\n      })]\n    }), _jsx(BottomTab, {})]\n  });\n}\nvar styles = StyleSheet.create({\n  safeView: {\n    flex: 1,\n    backgroundColor: 'black'\n  },\n  container: {\n    flex: 1,\n    backgroundColor: 'white',\n    alignContent: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  Title: {\n    fontSize: 26,\n    fontWeight: 'bold',\n    color: '#f87171'\n  },\n  Flatlistsection: {\n    flex: 1,\n    width: '100%',\n    backgroundColor: 'white',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 10\n  }\n});\n\n_NativeWindStyleSheet.create({\n  styles: {\n    \"container\": {\n      \"width\": \"100%\"\n    },\n    \"container@0\": {\n      \"maxWidth\": 640\n    },\n    \"container@1\": {\n      \"maxWidth\": 768\n    },\n    \"container@2\": {\n      \"maxWidth\": 1024\n    },\n    \"container@3\": {\n      \"maxWidth\": 1280\n    },\n    \"container@4\": {\n      \"maxWidth\": 1536\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    }\n  },\n  atRules: {\n    \"container\": [[[\"media\", \"(min-width: 640px)\"]], [[\"media\", \"(min-width: 768px)\"]], [[\"media\", \"(min-width: 1024px)\"]], [[\"media\", \"(min-width: 1280px)\"]], [[\"media\", \"(min-width: 1536px)\"]]]\n  },\n  topics: {\n    \"container\": [\"width\"]\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useLayoutEffect","useNavigation","collection","onSnapshot","where","query","db","CategoryComponent","useModal","CustomModal","BottomTab","SingleCategory","route","Title","params","category","setCategory","setModalVisible","selectedItem","setSelectedItem","filterbycategory","snapshot","docs","map","doc","id","data","error","alert","console","log","handleModal","item","passedid","itemname","price","rentperhour","owner","description","styles","safeView","container","Flatlistsection","width","timestamp","StyleSheet","create","flex","backgroundColor","alignContent","justifyContent","alignItems","fontSize","fontWeight","color","paddingHorizontal"],"sources":["D:/MobielApp/SemesterProject/Mobile_App/screens/SingleCategory.jsx"],"sourcesContent":["import {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Image,\r\n  TouchableOpacity,\r\n  Modal,\r\n  Pressable,\r\n} from 'react-native'\r\nimport React, { useState, useEffect, useLayoutEffect } from 'react'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport { SafeAreaView } from 'react-native'\r\nimport { FlatList } from 'react-native'\r\nimport {\r\n  collection,\r\n  onSnapshot,\r\n  where,\r\n  query,\r\n} from 'firebase/firestore'\r\nimport { db } from '../firebase/config'\r\nimport CategoryComponent from '../components/CategoryComponent'\r\nimport { useModal } from '../utils/Context'\r\nimport CustomModal from '../components/CustomModal'\r\nimport BottomTab from '../components/BottomTab'\r\nexport default function SingleCategory({ route }) {\r\n  const { Title } = route.params\r\n  const [category, setCategory] = useState([])\r\n  const { setModalVisible,    selectedItem,\r\n        setSelectedItem, } = useModal()\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const filterbycategory = query(\r\n        collection(db, 'items'),\r\n        where('category', '==', Title),\r\n        where('available','==',true),\r\n      )\r\n      onSnapshot(filterbycategory, (snapshot) => {\r\n        setCategory(\r\n          snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            data: doc.data(),\r\n          })),\r\n        )\r\n      })\r\n    } catch (error) {\r\n      alert(error)\r\n    }\r\n    console.log(category)\r\n  }, [])\r\n  const handleModal = (item,passedid) => {\r\n    setSelectedItem({\r\n      itemname: item.itemname,\r\n      price: item.rentperhour,\r\n      owner: item.owner,\r\n      description: item.description,\r\n      id: passedid,\r\n    })\r\n    setModalVisible(true)\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={styles.safeView}>\r\n      <View style={styles.container}>\r\n        <Text style={styles.Title}>{Title}</Text>\r\n        <View style={styles.Flatlistsection}>\r\n          <FlatList\r\n            style={{ width: '100%' }}\r\n            data={category}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity onPress={() => handleModal(item.data,item.id)}>\r\n                <CategoryComponent\r\n                  itemname={item.data.itemname}\r\n                  price={item.data.rentperhour}\r\n                  owner={item.data.owner}\r\n                  description={item.data.description}\r\n                  id={item.id}\r\n                  timestamp={item.data.timestamp}\r\n                />\r\n              </TouchableOpacity>\r\n            )}\r\n            keyExtractor={(item) => item.id}\r\n          />\r\n\r\n          <CustomModal\r\n            itemname={selectedItem.itemname}\r\n            price={selectedItem.price}\r\n            owner={selectedItem.owner}\r\n            description={selectedItem.description}\r\n            id={selectedItem.id}\r\n          />\r\n        </View>\r\n      </View>\r\n      <BottomTab />\r\n    </SafeAreaView>\r\n  )\r\n}\r\nconst styles = StyleSheet.create({\r\n  safeView: {\r\n    flex: 1,\r\n    backgroundColor: 'black',\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: 'white',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  Title: {\r\n    fontSize: 26,\r\n    fontWeight: 'bold',\r\n    color: '#f87171',\r\n  },\r\n  Flatlistsection: {\r\n    flex: 1,\r\n    width: '100%',\r\n    backgroundColor: 'white',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 10,\r\n  },\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}