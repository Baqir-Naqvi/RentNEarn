{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar DEFAULT_OPTIONS = {\n  mediaType: 'photo',\n  includeBase64: false,\n  selectionLimit: 1\n};\nexport function camera() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_OPTIONS;\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  return new Promise(function (resolve) {\n    var result = {\n      errorCode: 'camera_unavailable',\n      errorMessage: 'launchCamera is not supported for web yet'\n    };\n    if (callback) callback(result);\n    resolve(result);\n  });\n}\nexport function imageLibrary() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_OPTIONS;\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (options.mediaType !== 'photo') {\n    var result = {\n      errorCode: 'others',\n      errorMessage: 'For now, only photo mediaType is supported for web'\n    };\n    if (callback) callback(result);\n    return Promise.resolve(result);\n  }\n\n  var input = document.createElement('input');\n  input.style.display = 'none';\n  input.setAttribute('type', 'file');\n  input.setAttribute('accept', getWebMediaType(options.mediaType));\n\n  if (options.selectionLimit > 1) {\n    input.setAttribute('multiple', 'multiple');\n  }\n\n  document.body.appendChild(input);\n  return new Promise(function (resolve) {\n    input.addEventListener('change', _asyncToGenerator(function* () {\n      if (input.files) {\n        if (options.selectionLimit <= 1) {\n          var img = yield readFile(input.files[0], {\n            includeBase64: options.includeBase64\n          });\n          var _result = {\n            assets: [img]\n          };\n          if (callback) callback(_result);\n          resolve(_result);\n        } else {\n          var imgs = yield Promise.all(Array.from(input.files).map(function (file) {\n            return readFile(file, {\n              includeBase64: options.includeBase64\n            });\n          }));\n          var _result2 = {\n            didCancel: false,\n            assets: imgs\n          };\n          if (callback) callback(_result2);\n          resolve(_result2);\n        }\n      }\n\n      document.body.removeChild(input);\n    }));\n    var event = new MouseEvent('click');\n    input.dispatchEvent(event);\n  });\n}\n\nfunction readFile(targetFile, options) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onerror = function () {\n      reject(new Error(\"Failed to read the selected media because the operation failed.\"));\n    };\n\n    reader.onload = function (_ref2) {\n      var target = _ref2.target;\n      var uri = target == null ? void 0 : target.result;\n\n      var returnRaw = function returnRaw() {\n        return resolve({\n          uri: uri,\n          width: 0,\n          height: 0\n        });\n      };\n\n      if (typeof uri === 'string') {\n        var image = new Image();\n        image.src = uri;\n\n        image.onload = function () {\n          var _image$naturalWidth, _image$naturalHeight;\n\n          return resolve(_objectSpread({\n            uri: uri,\n            width: (_image$naturalWidth = image.naturalWidth) != null ? _image$naturalWidth : image.width,\n            height: (_image$naturalHeight = image.naturalHeight) != null ? _image$naturalHeight : image.height\n          }, options.includeBase64 && {\n            base64: uri.substr(uri.indexOf(',') + 1)\n          }));\n        };\n\n        image.onerror = function () {\n          return returnRaw();\n        };\n      } else {\n        returnRaw();\n      }\n    };\n\n    reader.readAsDataURL(targetFile);\n  });\n}\n\nfunction getWebMediaType(mediaType) {\n  var _webMediaTypes$mediaT;\n\n  var webMediaTypes = {\n    photo: 'image/*',\n    video: 'video/*',\n    mixed: 'image/*,video/*'\n  };\n  return (_webMediaTypes$mediaT = webMediaTypes[mediaType]) != null ? _webMediaTypes$mediaT : webMediaTypes.photo;\n}","map":{"version":3,"names":["DEFAULT_OPTIONS","mediaType","includeBase64","selectionLimit","camera","options","callback","Promise","resolve","result","errorCode","errorMessage","imageLibrary","input","document","createElement","style","display","setAttribute","getWebMediaType","body","appendChild","addEventListener","files","img","readFile","assets","imgs","all","Array","from","map","file","didCancel","removeChild","event","MouseEvent","dispatchEvent","targetFile","reject","reader","FileReader","onerror","Error","onload","target","uri","returnRaw","width","height","image","Image","src","naturalWidth","naturalHeight","base64","substr","indexOf","readAsDataURL","webMediaTypes","photo","video","mixed"],"sources":["D:/MobielApp/SemesterProject/Mobile_App/node_modules/react-native-image-picker/src/platforms/web.ts"],"sourcesContent":["import {\n  CameraOptions,\n  ImageLibraryOptions,\n  Callback,\n  ImagePickerResponse,\n  ErrorCode,\n  Asset,\n  MediaType,\n} from '../types';\n\nconst DEFAULT_OPTIONS: Pick<\n  ImageLibraryOptions & CameraOptions,\n  'mediaType' | 'includeBase64' | 'selectionLimit'\n> = {\n  mediaType: 'photo',\n  includeBase64: false,\n  selectionLimit: 1,\n};\n\nexport function camera(\n  options: ImageLibraryOptions = DEFAULT_OPTIONS,\n  callback?: Callback,\n): Promise<ImagePickerResponse> {\n  return new Promise((resolve) => {\n    const result = {\n      errorCode: 'camera_unavailable' as ErrorCode,\n      errorMessage: 'launchCamera is not supported for web yet',\n    };\n\n    if (callback) callback(result);\n\n    resolve(result);\n  });\n}\n\nexport function imageLibrary(\n  options: ImageLibraryOptions = DEFAULT_OPTIONS,\n  callback?: Callback,\n): Promise<ImagePickerResponse> {\n  // Only supporting 'photo' mediaType for now.\n  if (options.mediaType !== 'photo') {\n    const result = {\n      errorCode: 'others' as ErrorCode,\n      errorMessage: 'For now, only photo mediaType is supported for web',\n    };\n\n    if (callback) callback(result);\n\n    return Promise.resolve(result);\n  }\n\n  const input = document.createElement('input');\n  input.style.display = 'none';\n  input.setAttribute('type', 'file');\n  input.setAttribute('accept', getWebMediaType(options.mediaType));\n\n  if (options.selectionLimit! > 1) {\n    input.setAttribute('multiple', 'multiple');\n  }\n\n  document.body.appendChild(input);\n\n  return new Promise((resolve) => {\n    input.addEventListener('change', async () => {\n      if (input.files) {\n        if (options.selectionLimit! <= 1) {\n          const img = await readFile(input.files[0], {\n            includeBase64: options.includeBase64,\n          });\n\n          const result = {assets: [img]};\n\n          if (callback) callback(result);\n\n          resolve(result);\n        } else {\n          const imgs = await Promise.all(\n            Array.from(input.files).map((file) =>\n              readFile(file, {includeBase64: options.includeBase64}),\n            ),\n          );\n\n          const result = {\n            didCancel: false,\n            assets: imgs,\n          };\n\n          if (callback) callback(result);\n\n          resolve(result);\n        }\n      }\n      document.body.removeChild(input);\n    });\n\n    const event = new MouseEvent('click');\n    input.dispatchEvent(event);\n  });\n}\n\nfunction readFile(\n  targetFile: Blob,\n  options: Partial<ImageLibraryOptions>,\n): Promise<Asset> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = () => {\n      reject(\n        new Error(\n          `Failed to read the selected media because the operation failed.`,\n        ),\n      );\n    };\n    reader.onload = ({target}) => {\n      const uri = target?.result;\n\n      const returnRaw = () =>\n        resolve({\n          uri: uri as string,\n          width: 0,\n          height: 0,\n        });\n\n      if (typeof uri === 'string') {\n        const image = new Image();\n        image.src = uri;\n        image.onload = () =>\n          resolve({\n            uri,\n            width: image.naturalWidth ?? image.width,\n            height: image.naturalHeight ?? image.height,\n            // The blob's result cannot be directly decoded as Base64 without\n            // first removing the Data-URL declaration preceding the\n            // Base64-encoded data. To retrieve only the Base64 encoded string,\n            // first remove data:*/*;base64, from the result.\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n            ...(options.includeBase64 && {\n              base64: uri.substr(uri.indexOf(',') + 1),\n            }),\n          });\n        image.onerror = () => returnRaw();\n      } else {\n        returnRaw();\n      }\n    };\n\n    reader.readAsDataURL(targetFile);\n  });\n}\n\nfunction getWebMediaType(mediaType: MediaType) {\n  const webMediaTypes = {\n    photo: 'image/*',\n    video: 'video/*',\n    mixed: 'image/*,video/*',\n  };\n\n  return webMediaTypes[mediaType] ?? webMediaTypes.photo;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}