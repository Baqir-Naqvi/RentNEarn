{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useEffect, useState } from 'react';\nimport { useModal } from \"../utils/Context\";\nimport CategoryComponent from \"../components/CategoryComponent\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { collection, onSnapshot, where, query } from 'firebase/firestore';\nimport { db } from \"../firebase/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar FavouriteScreen = function FavouriteScreen() {\n  var _useModal = useModal(),\n      userID = _useModal.userID;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      FavItems = _useState2[0],\n      setFavItems = _useState2[1];\n\n  useEffect(function () {\n    var GetFavourites = function GetFavourites() {\n      try {\n        var filterbycategory = query(collection(db, 'users'), where('id', '==', userID));\n        onSnapshot(filterbycategory, function (snapshot) {\n          setFavItems(snapshot.docs.map(function (doc) {\n            return {\n              favourites: doc.data().favourites\n            };\n          }));\n        });\n      } catch (error) {\n        alert(error);\n      }\n    };\n\n    GetFavourites().then(console.log(FavItems));\n  }, []);\n  return _jsx(View, {});\n};\n\nexport default FavouriteScreen;","map":{"version":3,"names":["React","useEffect","useState","useModal","CategoryComponent","collection","onSnapshot","where","query","db","FavouriteScreen","userID","FavItems","setFavItems","GetFavourites","filterbycategory","snapshot","docs","map","doc","favourites","data","error","alert","then","console","log"],"sources":["D:/MobielApp/SemesterProject/Mobile_App/screens/FavouriteScreen.jsx"],"sourcesContent":["import { View, Text } from 'react-native'\r\nimport React,{useEffect,useState} from 'react'\r\nimport { useModal } from '../utils/Context'\r\nimport CategoryComponent from '../components/CategoryComponent'\r\nimport { FlatList } from 'react-native'\r\nimport { collection, onSnapshot, where, query } from 'firebase/firestore'\r\nimport { db } from '../firebase/config'\r\n\r\nconst FavouriteScreen = () => {\r\n    const {userID } = useModal()\r\n    const [FavItems, setFavItems] = useState([])\r\n    useEffect(() => {\r\n        //search for user in database\r\n        const GetFavourites=()=>{\r\n        try {\r\n            const filterbycategory = query(\r\n                collection(db, 'users'),  \r\n                where('id', '==', userID),\r\n            )\r\n            onSnapshot(filterbycategory, (snapshot) => {\r\n                setFavItems(\r\n                   //only get the favourites array\r\n                    snapshot.docs.map((doc) => ({\r\n                        favourites: doc.data().favourites,\r\n                    })),\r\n                )\r\n            })\r\n        } catch (error) {\r\n            alert(error)\r\n        }\r\n    }\r\n    GetFavourites().then(\r\n        console.log(FavItems)\r\n    )\r\n    }, [])\r\n  return (\r\n    <View>\r\n        {/* {\r\n            userData.favourites.map((item,index)=>{\r\n                return(\r\n                    <CategoryComponent\r\n                    key={index}\r\n                    item={item}\r\n                    />\r\n                )\r\n            })\r\n        } */}\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default FavouriteScreen"],"mappings":";;;AACA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,SAASC,QAAT;AACA,OAAOC,iBAAP;;AAEA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,KAAjC,EAAwCC,KAAxC,QAAqD,oBAArD;AACA,SAASC,EAAT;;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC1B,gBAAkBP,QAAQ,EAA1B;EAAA,IAAOQ,MAAP,aAAOA,MAAP;;EACA,gBAAgCT,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOU,QAAP;EAAA,IAAiBC,WAAjB;;EACAZ,SAAS,CAAC,YAAM;IAEZ,IAAMa,aAAa,GAAC,SAAdA,aAAc,GAAI;MACxB,IAAI;QACA,IAAMC,gBAAgB,GAAGP,KAAK,CAC1BH,UAAU,CAACI,EAAD,EAAK,OAAL,CADgB,EAE1BF,KAAK,CAAC,IAAD,EAAO,IAAP,EAAaI,MAAb,CAFqB,CAA9B;QAIAL,UAAU,CAACS,gBAAD,EAAmB,UAACC,QAAD,EAAc;UACvCH,WAAW,CAEPG,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAACC,GAAD;YAAA,OAAU;cACxBC,UAAU,EAAED,GAAG,CAACE,IAAJ,GAAWD;YADC,CAAV;UAAA,CAAlB,CAFO,CAAX;QAMH,CAPS,CAAV;MAQH,CAbD,CAaE,OAAOE,KAAP,EAAc;QACZC,KAAK,CAACD,KAAD,CAAL;MACH;IACJ,CAjBG;;IAkBJR,aAAa,GAAGU,IAAhB,CACIC,OAAO,CAACC,GAAR,CAAYd,QAAZ,CADJ;EAGC,CAvBQ,EAuBN,EAvBM,CAAT;EAwBF,OACE,KAAC,IAAD,KADF;AAcD,CAzCD;;AA2CA,eAAeF,eAAf"},"metadata":{},"sourceType":"module"}